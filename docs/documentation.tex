\documentclass{scrreprt}

\usepackage[hidelinks]{hyperref}
\usepackage{graphicx}
\usepackage[a4paper,top=1in,bottom=1in,right=0.6in,left=0.6in]{geometry}
\usepackage{scrlayer-scrpage}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{cleveref}
\usepackage{csquotes}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{afterpage}
\usepackage{ifthen}
\usepackage[inline]{enumitem}
\usepackage[backend=biber,natbib,maxbibnames=99]{biblatex}
\usepackage{listings}
\usepackage{float}
\usepackage{metalogo}

\usepackage{pgf}
\usepackage{pgfmath}
\usepackage{tikz}
\usetikzlibrary{shapes}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{positioning}
\usetikzlibrary{calc}
\usepackage{forest}

\addbibresource{bibliography.bib}

\usepackage{damastversion}

\makeatletter
\newcommand{\customlabel}[2]{%
  \protected@write \@auxout {}{\string \newlabel {#1}{{\thefigure#2}{\thepage}{#2}{\@currentHref}{}} }%
  \hypertarget{#1}{\relax}
  \protected@write \@auxout {}{\string \newlabel {#1@cref}{{[figure][\thefigure][]\thefigure#2}{[1][\thepage][]\thepage}}}
}
\makeatother

\lstdefinelanguage{html5}{
  language=html,
  sensitive=true,
  alsoletter={<>=-},
  otherkeywords={
    <, </, >,
    </h2, <h2, </h2>,
    </strong, <strong, </strong>,
    </p, <p, </p>,
    />, <!
  },
  ndkeywords={
    =,
    data-virtual-text=,
  },
  morecomment=[s]{<!--}{-->},
  tag=[s]
}

\newfloat{lstfloat}{tbp}{lop}
\floatname{lstfloat}{Listing}
\def\lstfloatautorefname{Listing}
\crefalias{lstfloat}{listing}

\setcounter{secnumdepth}{3}
\counterwithout{footnote}{chapter}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\counterwithout{lstfloat}{chapter}

\begin{document}

\titlehead{\hfill\parbox{4.5cm}{Universitätsstraße 38 \\
70569 Stuttgart \\
Germany }}
\subject{System Description}
\title{Damast}
\subtitle{\damastversion{}}
\author{Max Franke}
\date{\today}
\publishers{\parbox{11cm}{Institute for Visualization and Interactive Systems\\University of Stuttgart\\Germany}}

\maketitle

\setkomafont{pagehead}{\rmfamily\footnotesize\upshape}
\setkomafont{pagefoot}{\rmfamily\footnotesize\upshape}

\ofoot*{\pagemark}
\cfoot*{}
\ifoot*{}
\ohead*{}
\renewcommand*{\chaptermark}[1]{ \ohead*{\thechapter\ \MakeUppercase{#1}}}
\chead*{}
\ihead*{Damast \texttt{\damastversion}}

\setcounter{tocdepth}{1}
\tableofcontents

\input{content/introduction}
\input{content/database}
\input{content/backend}
\input{content/frontend}

\nocite{Franke_2023a}
\printbibliography

\appendix
\input{content/rest-api-endpoints}

\end{document}
