<section>
  <h4>Visualization Settings</h4>

  <dl>
    <dt>Show filtered data</dt>
    <dd>
      <details>
        <summary>Show only filtered data</summary>
        <p>
        This switch controls if data which does not match the currently selected filters is also visualized.
        If <em><q>All data</q></em> is selected, non-matched data is represented by less saturated colors.
        </p>
      </details>
      <div class="timeline__controls" id="only-active-controls">
        <label class="switch__label" for="check-only-active">All data</label>
        <label class="switch">
          <input type="checkbox" id="check-only-active">
          <span class="slider round"></span>
        </label>
        <label class="switch__label" for="check-only-active">Only active</label>
      </div>
    </dd>
    <dt>Display mode</dt>
    <dd>
      <details>
        <summary>Show religion or confidence</summary>
        <p>
          This switch controls which aspect of the data is mapped to color.
          If <em><q>Religion</q></em> is selected, the religion is used for coloring, using the color scheme in the <strong>Religion</strong> tab.
          If <em><q>Confidence</q></em> is selected, the level of confidence is used, using the color scheme in the <strong>Confidence</strong> tab.
          The <em>aspect of confidence</em> used can be selected in the <strong>Confidence</strong> tab as well, and the currently used aspect is indicated with an
          <i class="fa fa-eye"></i>
          eye symbol below the column.
        </p>
      </details>
      <div class="timeline__controls" id="confidence-controls">
        <label class="switch__label" for="confidence-mode">Religion</label>
        <label class="switch">
          <input type="checkbox" id="confidence-mode">
          <span class="slider round"></span>
        </label>
        <label class="switch__label" for="confidence-mode">Confidence</label>
      </div>
    </dd>
    <dt>Timeline mode</dt>
    <dd>
      <details>
        <summary>Show qualitative or quantitative timeline</summary>
        <p>
          This switch controls whether the timeline shows a qualitative summary or quantitative information.
          If <em><q>Quantitative</q></em> is selected, the number of pieces of evidence of that type in that year is encoded into the height of the area.
          If <em><q>Qualitative</q></em> is selected, the timeline only shows <em>whether</em> there is evidence of that type each year.
        </p>
      </details>
      <div class="timeline__controls" id="timeline-mode-controls">
        <label class="switch__label" for="timeline-mode">Quantitative</label>
        <label class="switch">
          <input type="checkbox" id="timeline-mode">
          <span class="slider round"></span>
        </label>
        <label class="switch__label" for="timeline-mode">Qualitative</label>
      </div>
    </dd>
    <dt>Map mode</dt>
    <dd>
      <details>
        <summary>Toggle clustering of places</summary>
        <p>
          This switch controls whether the map shows large, detailed symbols for clusters of location without overlap, or one smaller symbol per place.
          The latter mode may lead to overlap of symbols and should be used at one's own peril.
        </p>
      </details>
      <div class="timeline__controls" id="map-mode-controls">
        <label class="switch__label" for="map-mode">Clustered</label>
        <label class="switch">
          <input type="checkbox" id="map-mode">
          <span class="slider round"></span>
        </label>
        <label class="switch__label" for="map-mode">Unclustered</label>
      </div>
    </dd>
  </dl>
</section>

<section>
  <h4>Generate Report</h4>

  <p>
    You can generate a detailed text report of all the data visible under the currently selected filters.
    This report will show up in a new tab.
    Be careful not to do this with very broad filter criteria, as the report will get very long in that case.
    If the result set is too large, the server will refuse to build the report.
    Alternatively, you can just get a description of the currently active filters within the visualization.
  </p>

  <div class="buttons">
    <button class="button button--smallish" id="generate-report">
      <i class="fa fa-print fa--pad-right"></i>
      Generate report
    </button>

    <button class="button button--smallish" id="describe-filters">
      <i class="fa fa-info fa--pad-right"></i>
      Describe filters
    </button>
  </div>
</section>

<section>
  <h4>Layout Settings</h4>

  You can save the current layout.
  This setting will only persist for your current browser and computer (using <code>localStorage</code>).
  You can also reset to the initial layout (<em>Note:</em> this will reload the page).

  <div class="buttons">
    <button class="button button--smallish" id="save-layout">
      <i class="fa fa-save fa--pad-right"></i>
      Save current layout
    </button>
    <button class="button button--smallish button--red" id="reset-layout">
      <i class="fa fa-undo fa--pad-right"></i>
      Reset layout
    </button>
  </div>
</section>

<section id="persist">
  <h4>Persist State</h4>

  You can also save the current state of the visualization.
  In particular, this will save the <em>filters</em> you currently have applied, the center point and zoom level of the <em>map,</em> and the <em>visualization settings</em> applied above.
  These settings are <span class="no-break"><i class="fa fa-download"></i> <em>downloaded</em></span> as a file to your computer.
  You can <span class="no-break"><i class="fa fa-upload"></i> <em>upload</em></span> such a file later to restore the state.

  <div class="buttons">
    <button class="button button--smallish" id="save-state">
      <i class="fa fa-download fa--pad-right"></i>
      Save visualization state
    </button>

    <input id="load-file" class="hidden" type="file" accept="application/json">
    <button class="button button--smallish" id="load-state">
      <i class="fa fa-upload fa--pad-right"></i>
      Load visualization state
    </button>
  </div>
</section>
