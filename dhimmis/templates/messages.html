{% macro flash_messages() -%}
  {%- with messages = get_flashed_messages(with_categories=true) -%}
    {%- if messages %}
    <div class="messages">
    <ul class="flashes">
      {%- for category, message in messages %}
      <li class="flash flash--{{ category }}" data-timeout="{{ 10000 if category == 'error' else 2000 }}">
        <span class="flash__content">{{ message }}</span>
        <button class="flash__close">
          <i class="fa fa-fw fa-times"></i>
        </button>
      </li>
      {%- endfor %}
    </ul>
    </div>
    {%- endif %}
  {%- endwith %}
{%- endmacro %}
